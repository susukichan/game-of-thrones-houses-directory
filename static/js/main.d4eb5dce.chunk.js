(this["webpackJsonpgot-houses"]=this["webpackJsonpgot-houses"]||[]).push([[0],{54:function(e,t,n){},56:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},85:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(17),s=n.n(a),l=n(6),r=(n(54),n(29)),o=n(7),i=n(18),d=n.n(i),j=n(21),u=function(e){return fetch(e).then((function(e){return e.json()}))},b=function(e,t){return""===e?Promise.resolve(t):u(e)},h=function(e){return u("https://anapioficeandfire.com/api/houses/".concat(e))},O=function(){var e=Object(j.a)(d.a.mark((function e(t){var n,c,a,s,r,o,i,j,h;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e){return Promise.all(e.map((function(e){return u(e)})))},e.next=3,Promise.all([n(t.swornMembers),n(t.cadetBranches),b(t.currentLord,{name:""}),b(t.overlord,{name:""}),b(t.heir,{name:""}),b(t.founder,{name:""})]);case 3:return c=e.sent,a=Object(l.a)(c,6),s=a[0],r=a[1],o=a[2],i=a[3],j=a[4],h=a[5],e.abrupt("return",{house:t,swornMembers:s,cadetBranches:r,currentLord:o,overlord:i,heir:j,founder:h});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=(n(56),n(1)),m=function(e){var t=e.houseWithMetadata,n=t.house,c=t.currentLord,a=t.overlord,s=t.heir,l=t.swornMembers,r=t.cadetBranches,o=t.founder,i=null===n||void 0===n?void 0:n.ancestralWeapons.join(",");return Object(v.jsxs)("div",{className:"data-block",children:[Object(v.jsx)("h2",{className:"data-block__title",children:null===n||void 0===n?void 0:n.name}),Object(v.jsxs)("div",{className:"data-block__content-list",children:[Object(v.jsxs)("div",{className:"data-block__content-row",children:[Object(v.jsx)("div",{className:"data-block__content-row-title",children:Object(v.jsx)("h4",{children:"\ud83d\uddfa Region:"})}),Object(v.jsx)("div",{children:null===n||void 0===n?void 0:n.region})]}),(null===n||void 0===n?void 0:n.coatOfArms)&&Object(v.jsxs)("div",{className:"data-block__content-row",children:[Object(v.jsx)("div",{className:"data-block__content-row-title",children:Object(v.jsx)("h4",{children:"\ud83d\udee1 Coat of Arms:"})}),Object(v.jsx)("div",{children:null===n||void 0===n?void 0:n.coatOfArms})]}),(null===n||void 0===n?void 0:n.words)&&Object(v.jsxs)("div",{className:"data-block__content-row",children:[Object(v.jsx)("div",{className:"data-block__content-row-title",children:Object(v.jsx)("h4",{children:"\ud83c\udfa4 Words:"})}),Object(v.jsx)("div",{children:null===n||void 0===n?void 0:n.words})]}),(null===n||void 0===n?void 0:n.seats[0])&&Object(v.jsxs)("div",{className:"data-block__content-row",children:[Object(v.jsx)("div",{className:"data-block__content-row-title",children:Object(v.jsx)("h4",{children:"\ud83e\ude91 Seats:"})}),Object(v.jsx)("div",{children:null===n||void 0===n?void 0:n.seats})]}),c.name&&Object(v.jsxs)("div",{className:"data-block__content-row",children:[Object(v.jsx)("div",{className:"data-block__content-row-title",children:Object(v.jsx)("h4",{children:"\ud83e\uddd9 Current Lord:"})}),Object(v.jsx)("div",{children:c.name})]}),s.name&&Object(v.jsxs)("div",{className:"data-block__content-row",children:[Object(v.jsx)("div",{className:"data-block__content-row-title",children:Object(v.jsx)("h4",{children:"\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66 Heir:"})}),Object(v.jsx)("div",{children:s.name})]}),a.name&&Object(v.jsxs)("div",{className:"data-block__content-row",children:[Object(v.jsx)("div",{className:"data-block__content-row-title",children:Object(v.jsx)("h4",{children:"\ud83e\udddd Overlord:"})}),Object(v.jsx)("div",{children:a.name})]}),(null===n||void 0===n?void 0:n.founded)&&Object(v.jsxs)("div",{className:"data-block__content-row",children:[Object(v.jsx)("div",{className:"data-block__content-row-title",children:Object(v.jsx)("h4",{children:"\ud83d\udcc5 Founded:"})}),Object(v.jsx)("div",{children:null===n||void 0===n?void 0:n.founded})]}),o.name&&Object(v.jsxs)("div",{className:"data-block__content-row",children:[Object(v.jsx)("div",{className:"data-block__content-row-title",children:Object(v.jsx)("h4",{children:"\ud83d\udc68\u200d\ud83e\uddb3 Founder:"})}),Object(v.jsx)("div",{children:o.name})]}),(null===n||void 0===n?void 0:n.diedOut)&&Object(v.jsxs)("div",{className:"data-block__content-row",children:[Object(v.jsxs)("div",{className:"data-block__content-row-title",children:[" ",Object(v.jsx)("h4",{children:"\ud83e\udddf Died out:"})]}),Object(v.jsx)("div",{children:null===n||void 0===n?void 0:n.diedOut})]}),i&&Object(v.jsxs)("div",{className:"data-block__content-row",children:[Object(v.jsx)("div",{className:"data-block__content-row-title",children:Object(v.jsx)("h4",{children:"\ud83e\ude93 Ancestral weapons:"})}),Object(v.jsx)("div",{children:i})]}),r.length>1&&Object(v.jsxs)("div",{className:"data-block__content-row",children:[Object(v.jsx)("div",{className:"data-block__content-row-title",children:Object(v.jsx)("h4",{children:"\ud83c\udff0 Cadet branches:"})}),Object(v.jsx)("div",{children:r.map((function(e){return" ".concat(e.name,"\uff0e")}))})]}),l.length>1&&Object(v.jsxs)("div",{className:"data-block__content-row",children:[Object(v.jsx)("div",{className:"data-block__content-row-title",children:Object(v.jsx)("h4",{children:"\u2694\ufe0f Sworn members:"})}),Object(v.jsx)("div",{children:l.map((function(e){return" ".concat(e.name," \uff0e")}))})]})]})]})},x=(n(58),function(){return Object(v.jsx)("div",{className:"loading-screen",children:Object(v.jsxs)("div",{className:"lds-ripple",children:[Object(v.jsx)("div",{}),Object(v.jsx)("div",{})]})})}),f=(n(59),function(e){var t=e.isOpen,n=e.onClose,c=e.houseName,a=e.houseWithMetadata,s=e.loading;return t?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"modal__overlay",onClick:n}),Object(v.jsx)("div",{className:"modal modal--".concat(c),children:s?Object(v.jsx)(x,{}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"modal-content",children:Object(v.jsx)(m,{houseWithMetadata:a})}),Object(v.jsx)("button",{className:"modal__button",onClick:n,children:"close"})]})})]}):Object(v.jsx)(v.Fragment,{})}),p=(n(60),function(){return{house:null,swornMembers:[],cadetBranches:[],currentLord:{name:"Unknown"},overlord:{name:"Unknown"},heir:{name:"Unknown"},founder:{name:"Unknown"}}}),N=function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("section",{className:"nine-houses container",children:Object(v.jsx)("h1",{className:"nine-houses__title",children:"Great Houses of Westeros"})}),Object(v.jsx)("section",{className:"nine-houses__content container",children:Object(v.jsx)("div",{className:"content-wrap",children:Object.entries({greyjoy:169,tully:395,baratheon:17,lannister:229,stark:362,targaryen:378,arryn:7,martell:285,tyrell:398}).map((function(e){var t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(v.jsx)(g,{houseId:c,houseName:n},n)}))})})]})},g=function(e){var t=e.houseId,n=e.houseName,a=Object(c.useState)(!1),s=Object(l.a)(a,2),r=s[0],o=s[1],i=Object(c.useState)(!1),u=Object(l.a)(i,2),b=u[0],m=u[1],x=Object(c.useState)(p),N=Object(l.a)(x,2),g=N[0],_=N[1];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"card",onClick:Object(j.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),m(!0),e.next=4,h(t);case 4:return n=e.sent,e.t0=_,e.next=8,O(n);case 8:e.t1=e.sent,(0,e.t0)(e.t1),m(!1);case 11:case"end":return e.stop()}}),e)}))),children:Object(v.jsx)("img",{src:"".concat(n,".jpg"),alt:n,className:"card-image"})}),Object(v.jsx)(f,{isOpen:r,onClose:function(){return o(!1)},houseWithMetadata:g,loading:b,houseName:n})]})},_=n(30),w=n(48),k=n(34),S=n(49),T=(n(67),function(e){var t=e.house,n=Object(c.useState)(p),a=Object(l.a)(n,2),s=a[0],r=a[1];return Object(c.useEffect)((function(){O(t).then(r)}),[t]),Object(v.jsx)("div",{className:"list-item list-item__region--".concat(t.region.replace(/ /g,"")||null),children:Object(v.jsx)(m,{houseWithMetadata:s})})}),C=(n(68),function(e){return Object(_.a)(Object(_.a)({},e),{},{colors:Object(_.a)(Object(_.a)({},e.colors),{},{primary25:"orange",primary:"green"})})}),y=[{value:"",label:"\ud83d\uddfa In all regions"},{value:"The Crownlands",label:"\ud83d\udc51 The Crownlands"},{value:"The North",label:"\ud83d\udc3a The North"},{value:"The Vale",label:"\ud83e\udd85 The Vale"},{value:"The Riverlands",label:"\ud83d\udc1f The Riverlands"},{value:"Iron Islands",label:"\ud83d\udc19 Iron Islands"},{value:"The Westerlands",label:"\ud83d\udc3b The Westerlands"},{value:"The Reach",label:"\ud83c\udf3c The Reach"},{value:"The Stormlands",label:"\ud83e\udd8c The Stormlands"},{value:"Dorne",label:"\ud83d\udd06 Dorne"},{value:"The Neck",label:"\ud83d\udc54 The Neck"}],W=[{value:"hasWords",label:"\ud83c\udfa4Has words"},{value:"hasTitles",label:"\ud83d\udd16Has title"},{value:"hasSeats",label:"\ud83e\ude91Has seats"},{value:"hasDiedOut",label:"\ud83d\ude35Has died out"},{value:"hasAncestralWeapons",label:"\ud83e\ude93Has Ancestral Weapons"}],F=[{value:10,label:"10"},{value:20,label:"20"},{value:30,label:"30"},{value:40,label:"40"},{value:50,label:"50"}],A=function(){var e,t,a=Object(c.useState)(!1),s=Object(l.a)(a,2),r=s[0],o=s[1],i=Object(c.useState)(!1),u=Object(l.a)(i,2),b=u[0],h=u[1],O=Object(c.useState)([]),m=Object(l.a)(O,2),f=m[0],p=m[1],N=Object(c.useState)({}),g=Object(l.a)(N,2),_=g[0],A=g[1],I=Object(c.useState)(!1),L=Object(l.a)(I,2),M=L[0],H=L[1],D=Object(c.useState)(!1),P=Object(l.a)(D,2),B=P[0],R=P[1],E=Object(c.useState)(!1),U=Object(l.a)(E,2),z=U[0],G=U[1],J=Object(c.useState)(!1),V=Object(l.a)(J,2),q=V[0],K=V[1],Q=Object(c.useState)(!1),X=Object(l.a)(Q,2),Y=X[0],Z=X[1],$=Object(c.useState)(10),ee=Object(l.a)($,2),te=ee[0],ne=ee[1],ce=Object(c.useState)([]),ae=Object(l.a)(ce,2),se=ae[0],le=ae[1],re=Object(c.useState)(""),oe=Object(l.a)(re,2),ie=oe[0],de=oe[1],je=Object(c.useState)(null),ue=Object(l.a)(je,2),be=ue[0],he=ue[1];Object(c.useEffect)((function(){var e=new Set(se.map((function(e){return e.value})));H(e.has("hasWords")),R(e.has("hasTitles")),G(e.has("hasSeats")),K(e.has("hasDiedOut")),Z(e.has("hasAncestralWeapons"))}),[se]),Object(c.useEffect)((function(){var e=n(69)(ie);he(e)}),[ie]),Object(c.useEffect)((function(){}),[be]);var Oe=null===be||void 0===be||null===(e=be.prev)||void 0===e?void 0:e.url,ve=null===be||void 0===be||null===(t=be.next)||void 0===t?void 0:t.url,me=function(){var e=Object(j.a)(d.a.mark((function e(t){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return c=e.sent,e.t0=p,e.next=6,c.json();case 6:e.t1=e.sent,(0,e.t0)(e.t1),o(!1),de(null!==(n=c.headers.get("Link"))&&void 0!==n?n:""),window.scrollTo(0,0);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:"list-of-houses container",children:[Object(v.jsx)("div",{className:"select-bar",children:Object(v.jsxs)("form",{id:"search-form",onSubmit:function(e){var t;e.preventDefault(),o(!0);var n=new URLSearchParams(Object.fromEntries([["region",null!==(t=null===_||void 0===_?void 0:_.value)&&void 0!==t?t:""],["hasWords",M],["hasTitles",B],["hasSeats",z],["hasDiedOut",q],["hasAncestralWeapons",Y],["pageSize",te]].filter((function(e){var t=Object(l.a)(e,2)[1];return Boolean(t)}))));fetch("https://anapioficeandfire.com/api/houses?".concat(n)).then((function(e){var t;return de(null!==(t=e.headers.get("Link"))&&void 0!==t?t:""),e.json()})).then((function(e){p(e),h(!0),o(!1)}))},children:[Object(v.jsx)(k.a,{theme:C,options:y,onChange:function(e){return A({value:null===e||void 0===e?void 0:e.value})},placeholder:"Select a region",isSearchable:!0,className:"select-region"}),Object(v.jsx)(k.a,{components:Object(S.a)(),theme:C,options:W,onChange:function(e){null!==e&&le(Array.isArray(e)?e:[e])},placeholder:"Select properties",isMulti:!0,noOptionsMessage:function(){return"no other properties \ud83d\ude05"},autoFocus:!0,isSearchable:!0,className:"select-properties"}),Object(v.jsx)(k.a,{theme:C,options:F,onChange:function(e){null!==e&&ne(e.value)},placeholder:"Result per page",isSearchable:!0,className:"select-page-size"}),Object(v.jsxs)("button",{type:"submit",id:"search-btn",className:"btn",children:["Search ",Object(v.jsx)(w.a,{icon:"search"})]})]})}),Object(v.jsx)("div",{className:"search-result",children:Object(v.jsx)("div",{className:"list-items ",children:r?Object(v.jsx)(x,{}):f.length>0?f.map((function(e){return Object(v.jsx)(T,{house:e},e.url)})):b?Object(v.jsx)("div",{className:"search-result-error",children:"There is no houses meet your request. Please search again\ud83d\ude00"}):null})}),Object(v.jsxs)("div",{className:"next-prev-buttons",children:[Oe&&Object(v.jsx)("button",{className:"prev-button",onClick:function(){return me(Oe)},children:"Previous page"}),ve&&Object(v.jsx)("button",{className:"next-button",onClick:function(){return me(ve)},children:"Next page"})]})]})},I=(n(85),function(){return Object(v.jsx)("section",{className:"homepage container",children:Object(v.jsxs)("h1",{className:"homepage__title container--narrow",children:["The Winds of Winter ",Object(v.jsx)("br",{}),Object(v.jsx)("span",{children:"Game of Thrones"})]})})}),L=n(19),M=n(39);function H(){var e=Object(c.useState)("url(homepage.jpg)"),t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(v.jsx)(r.a,{children:Object(v.jsxs)("div",{className:"App",style:{backgroundImage:n},children:[Object(v.jsxs)("header",{children:[Object(v.jsx)("h1",{className:"logo",children:"\u2694\ufe0f"}),Object(v.jsx)("input",{type:"checkbox",id:"nav-toggle",className:"nav-toggle"}),Object(v.jsx)("nav",{children:Object(v.jsxs)("ul",{children:[Object(v.jsx)("li",{children:Object(v.jsx)(r.b,{to:"/",onClick:function(){return a("url(homepage.jpg)")},children:"Home"})}),Object(v.jsx)("li",{children:Object(v.jsx)(r.b,{to:"nine-houses",onClick:function(){return a("url(nine-houses.jpg)")},children:"Nine Houses"})}),Object(v.jsx)("li",{children:Object(v.jsx)(r.b,{to:"list-of-houses",onClick:function(){return a("url(list-of-houses.jpg)")},children:"List of Houses"})})]})}),Object(v.jsx)("label",{htmlFor:"nav-toggle",className:"nav-toggle-label",children:Object(v.jsx)("span",{})})]}),Object(v.jsx)("main",{className:"main",style:{backgroundImage:n},children:Object(v.jsxs)(o.c,{children:[Object(v.jsx)(o.a,{exact:!0,path:"/",children:Object(v.jsx)(I,{})}),Object(v.jsx)(o.a,{path:"/nine-houses",children:Object(v.jsx)(N,{})}),Object(v.jsx)(o.a,{path:"/list-of-houses",children:Object(v.jsx)(A,{})})]})})]})})}L.b.add(M.a,M.b);n(87);var D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,91)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,l=t.getTTFB;n(e),c(e),a(e),s(e),l(e)}))};s.a.render(Object(v.jsx)(H,{}),document.getElementById("root")),D()}},[[88,1,2]]]);
//# sourceMappingURL=main.d4eb5dce.chunk.js.map